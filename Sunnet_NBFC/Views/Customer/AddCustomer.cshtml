@model Sunnet_NBFC.Models.clsCustomerMaster

@{ ViewBag.Title = "AddCustomer";
    Layout = "~/Views/Shared/_Layout.cshtml"; }

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Add Customer</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Add Customer</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <div class="row">

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">First Name</label>
                                    @Html.TextBoxFor(model => model.FirstName, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "First Name",
                                        @name = "FName",
                                        @required = "true",
                                        @maxlength = "50",
                                        @id = "FName",
                                        @autocomplete = "off"
                                    })


                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Middle Name</label>
                                    @Html.TextBoxFor(model => model.MiddleName, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "Middle Name",
                                        @name = "MName",
                                        @required = "true",
                                        @id = "MName"

                                    })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Last Name</label>
                                    @Html.TextBoxFor(model => model.LastName, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Last Name",
                                   @name = "LName",
                                   @required = "true",
                                   @id = "LName"

                               })
                                </div>
                            </div>

                            <div class="row">

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Father Name</label>
                                    @Html.TextBoxFor(model => model.FatherName, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "Father Name",
                                        @name = "FatherName",
                                        @required = "true",
                                        @maxlength = "50",
                                        @id = "FatherName",
                                        @autocomplete = "off"
                                    })


                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Mother Name</label>
                                    @Html.TextBoxFor(model => model.MotherName, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "Mother Name",
                                        @name = "MotherName",
                                        @required = "true",
                                        @id = "MotherName"

                                    })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Spouse Name</label>
                                    @Html.TextBoxFor(model => model.SpouseName, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Spouse Name",
                                   @name = "SpouseName",
                                   @required = "true",
                                   @id = "SpouseName"

                               })
                                </div>
                            </div>


                            <div class="row">

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Gender</label>
                                    @Html.DropDownListFor(model => model.Gender,
                                    new List<SelectListItem> {
                                    new SelectListItem { Value = "0" , Text = "- Select Gender -" },
                                    new SelectListItem { Value = "Male" , Text = "Male" },
                                    new SelectListItem { Value = "Female" , Text = "Female" }
                                    },
                                    new { @class = "form-control", @id = "Gender" })


                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Date of Birth</label>
                                    @Html.TextBoxFor(model => model.Dob, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "Date of Birth",
                                        @name = "Dob",
                                        @required = "true",
                                        @id = "Dob",
                                        @type = "Date"

                                    })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Martial Status</label>
                                    @Html.TextBoxFor(model => model.MaterialStatus, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Martial Status",
                                   @name = "MartialStatus",
                                   @required = "true",
                                   @id = "MartialStatus"

                               })
                                </div>
                            </div>

                            <div class="row">


                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Corrospondance Address</label>
                                    @Html.TextBoxFor(model => model.PresentAddress, new
                                    {
                                        @class = "form-control",
                                        @placeholder = "Present Address",
                                        @name = "PresentAddress",
                                        @required = "true",
                                        @id = "PresentAddress"

                                    })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Corrospondance Pincode</label>
                                    @Html.TextBoxFor(model => model.PresentPinCode, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Present Pincode",
                                   @name = "PresentPincode",
                                   @required = "true",
                                   @id = "PresentPincode"

                               })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Corrospondance State</label>
                                    @Html.DropDownListFor(model => model.PresentStateId, ViewBag.StateList as SelectList, new { @class = "form-control", @id = "CorState" })
                                    @Html.ValidationMessageFor(model => model.PresentStateId, "", new { @class = "text-danger" })


                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Corrospondance City</label>
                                    @Html.DropDownListFor(model => model.PresentCityId,
                                        new SelectList(Enumerable.Empty<SelectListItem>(), "CityId", "CityName"),
                                        "Select city", new { @class = "form-control", @id = "Corcity" })
                                    @*@Html.DropDownListFor(model => model.PresentCityId, ViewBag.CityList as SelectList, new { @class = "form-control" })*@
                                    @Html.ValidationMessageFor(model => model.PresentCityId, "", new { @class = "text-danger" })


                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Permanent Address</label>
                                    @Html.TextBoxFor(model => model.PermanentAddress, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Permanent Address",
                                   @name = "PermanentAddress",
                                   @required = "true",
                                   @id = "PermanentAddress"

                               })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Permanent Pincode</label>
                                    @Html.TextBoxFor(model => model.PermanentPincode, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Permanent Pincode",
                                   @name = "PermanentPincode",
                                   @required = "true",
                                   @id = "PermanentPincode"

                               })
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Permanent State</label>

                                    @Html.DropDownListFor(model => model.PermanentStateId, ViewBag.StateList as SelectList, new { @class = "form-control", @id = "permanentstate" })
                                    @Html.ValidationMessageFor(model => model.PermanentStateId, "", new { @class = "text-danger" })
                                </div>

                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Permanent City</label>

                                    @Html.DropDownListFor(model => model.PermanentCityId,
                                        new SelectList(Enumerable.Empty<SelectListItem>(), "CityId", "CityName"),
                                        "Select city", new { @class = "form-control", @id = "permanentcity" })
                                    @*@Html.DropDownListFor(model => model.PermanentCityId, ViewBag.CityList as SelectList, new { @class = "form-control" })*@
                                    @Html.ValidationMessageFor(model => model.PermanentCityId, "", new { @class = "text-danger" })


                                </div>
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Cibil Score</label>
                                    @Html.TextBoxFor(model => model.CibilScore, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Cibil Score",
                                   @name = "CibilScore",
                                   @required = "true",
                                   @id = "CibilScore"

                               })
                                </div>
                                <div class="row">


                                </div>
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Mobile Number1</label>
                                    @Html.TextBoxFor(model => model.MobileNo1, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Mobile Number1",
                                   @name = "MobileNumber1",
                                   @required = "true",
                                   @id = "MobileNumber1",
                                   @type = "Number"

                               })
                                </div>
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">Father Number1</label>
                                    @Html.TextBoxFor(model => model.FatherMobileNo, new
                               {
                                   @class = "form-control",
                                   @placeholder = "Father Mobile Number",
                                   @name = "FatherMobileNumber",
                                   @required = "true",
                                   @id = "FatherMobileNumber",
                                   @type = "Number"

                               })
                                </div>
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">
                                        Mother Mobile Number
                                    </label>
                                    @Html.TextBoxFor(model => model.MotherMobileNo, new
                                    {
                                    @class = "form-control",
                                    @placeholder = "Mother Mobile Number",
                                    @name = "MotherMobileNumber",
                                    @required = "true",
                                    @id = "MotherMobileNumber",
                                    @type = "Number"

                                    })
                                </div>
                            </div>
                            <div class="row">


                                <div class="col-md-4">
                                    <label for="exampleInputEmail1">
                                        Spouse Mobile Number
                                    </label>
                                    @Html.TextBoxFor(model => model.SpouseMobileNo, new
                                    {
                                    @class = "form-control",
                                    @placeholder = "Spouse Mobile Number",
                                    @name = "SpouseMobileNumber",
                                    @required = "true",
                                    @id = "SpouseMobileNumber",
                                    @type = "Number"

                                    })
                                </div>


                                <div class="col-md-4">
                                    <label for="exampleInputEmail1"> Aadhar No </label>
                                    @Html.TextBoxFor(model => model.AadharNo, new
                                    {
                                    @class = "form-control",
                                    @placeholder = "Aadhar No",
                                    @name = "AadharNo",
                                    @required = "true",
                                    @id = "AadharNo"

                                    })
                                </div>
                                <div class="col-md-4">
                                    <label for="exampleInputEmail1"> Pan No </label>
                                    @Html.TextBoxFor(model => model.PanNo, new
                                    {
                                    @class = "form-control",
                                    @placeholder = "PanNo",
                                    @name = "PanNo",
                                    @required = "true",
                                    @id = "PanNo"

                                    })
                                </div>
                            </div>
                            

                            <div class="card-footer" style="margin-top:10px;">
                                <button type="submit" class="btn btn-primary" onclick="Validation();"> Submit </button>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

</section>


<script src="~/plugins/jquery/jquery.min.js"></script>
<script src="~/plugins/jquery/jquery.validate.min.js"></script>
<script src="~/plugins/jquery/jquery.validate.unobtrusive.min.js"></script>
<script src="~/Scripts/CustomJS/Customer.js"></script>
@*<script type="text/javascript">
        $('#presentstate').change(function () {
            debugger;

            var stateid = $("#presentstate option:selected").val();
            alert(stateid);
            if (stateid.length == 0) {
             } else {
                var s = '<option value="">- Select City -</option>'
                $('#presentcity').html(s);
                $.ajax({
                url:'@Url.Action("GetCity", "Customer")',
                dataType: "json",
                data: {
                    Prefix: stateid
                },
                success: function (result) {

                debugger
                var data = JSON.parse(result.Data)
                var s = '<option value="">- Select City -</option>';
                    for (var i = 0; i < data.length; i++) {
                        s += '<option value="' + data[i].Cityid + '">' + data[i].CityName + '</option>';
                    }
                    $("#presentcity").html(s);
                }
            })
            }
        })

    </script>




    <script type="text/javascript">
        function Validation() {
            var regex = /^[a-zA-Z]*$/;
            var ReqType = "Insert";
            var FName = $("#FName").val();
            var MName = $("#MName").val();
            var LName = $("#LName").val();
            var FatherName = $("#FatherName").val();
            var MotherName = $("#MotherName").val();
            var SpouseName = $("#SpouseName").val();
            var Dob = $("#Dob").val();
            var Gender = $("#Gender option:selected").val();
            var MartialStatus = $("#MartialStatus").val();
            var PresentAddress = $("#PresentAddress").val();
            var PresentPincode = $("#PresentPincode").val();
            var PresentStateId = $("#presentstate option:selected").val();
            var PresentCityId = $("#presentcity option:selected").val();
            var PermanentAddress = $("#PermanentAddress").val();
            var PermanentPincode = $("#PermanentPincode").val();
            var PermanentStateId = $("#permanentstate option:selected").val();
            var PermanentCityId = $("#permanentcity option:selected").val();
            var CibilScore = $("#CibilScore").val();
            var MobileNumber1 = $("#MobileNumber1").val();
            var MobileNumber2 = $("#MobileNumber2").val();
            var FatherMobileNumber = $("#FatherMobileNumber").val();
            var MotherMobileNumber = $("#MotherMobileNumber").val();
            var SpouseMobileNumber = $("#SpouseMobileNumber").val();
            var AadharNo = $("#AadharNo").val();
            var PanNo = $("#PanNo").val();
            var CompanyID = 1;
            if (FName.length == 0) {
                alert("Please enter first name");
            } else if (MName.length == 0) {
                alert("Please enter middle name");
            } else if (LName.length == 0) {
                alert("Please enter last name");
            } else if (FatherName.length == 0) {
                alert("Please enter father name");
            } else if (MotherName.length == 0) {
                alert("Please enter mother name");
            } else if (SpouseName.length == 0) {
                alert("Please enter spouse name");
            } else if (Dob.length == 0) {
                alert("Please enter Dob");
            } else if (MartialStatus.length == 0) {
                alert("Please enter material status");
            } else if (PresentAddress.length == 0) {
                alert("Please enter present address");
            } else if (PresentPincode.length == 0) {
                alert("Please enter present pincode");
            } else if (PermanentAddress.length == 0) {
                alert("Please enter permanent address");
            } else if (PermanentPincode.length == 0) {
                alert("Please enter permanent pincode");
            } else if (CibilScore.length == 0) {
                alert("Please enter cibil score");
            } else if (MobileNumber1.length == 0) {
                alert("Please enter mobile number1");
            } else if (MobileNumber2.length == 0) {
                alert("Please enter mobile number2");
            } else if (FatherMobileNumber.length == 0) {
                alert("Please enter father mobile number");
            } else if (MotherMobileNumber.length == 0) {
                alert("Please enter mother mobile number");
            } else if (SpouseMobileNumber.length == 0) {
                alert("Please enter spouse mobile number");
            } else if (AadharNo.length == 0) {
                alert("Please enter Aadhar no");
            } else if (PanNo.length == 0) {
                alert("Please enter Pan no");
            }else {
                var filedata = new FormData();

                var FName = $("#FName").val();
                var MName = $("#MName").val();
                var LName = $("#LName").val();
                var FatherName = $("#FatherName").val();
                var MotherName = $("#MotherName").val();
                var SpouseName = $("#SpouseName").val();
                var Gender = $("#Gender").val();
                var Dob = $("#Dob").val();
                var MartialStatus = $("#MartialStatus").val();
                var PresentAddress = $("#PresentAddress").val();
                var PresentPincode = $("#PresentPincode").val();
                var PermanentAddress = $("#PermanentAddress").val();
                var PermanentPincode = $("#PermanentPincode").val();
                var CibilScore = $("#CibilScore").val();
                var MobileNumber1 = $("#MobileNumber1").val();
                var MobileNumber2 = $("#MobileNumber2").val();
                var FatherMobileNumber = $("#FatherMobileNumber").val();
                var MotherMobileNumber = $("#MotherMobileNumber").val();
                var SpouseMobileNumber = $("#SpouseMobileNumber").val();
                var AadharNo = $("#AadharNo").val();
                var PanNo = $("#PanNo").val();


                var AllDataArray = {
                    "ReqType": ReqType,
                    "FirstName": FName,
                    "MiddleName": MName,
                    "LastName": LName,
                    "FastherName": FatherName,
                    "MotherName": MotherName,
                    "SpouseName": SpouseName,
                    "Gender": Gender,
                    "Dob": Dob,
                    "MaterialStatus": MartialStatus,
                    "PresentAddress": PresentAddress,
                    "PresentPincode": PresentPincode,
                    "PresentStateId": PresentStateId,
                    "PresentCityId": PresentCityId,
                    "PermanentAddress": PermanentAddress,
                    "PermanentPincode": PermanentPincode,
                    "PermanentStateId": PermanentStateId,
                    "PermanentCityId": PermanentCityId,
                    "CibilScore": CibilScore,
                    "MobileNo1": MobileNumber1,
                    "MobileNo2": MobileNumber2,
                    "FatherMobileNo": FatherMobileNumber,
                    "MotherMobileNo": MotherMobileNumber,
                    "SpouseMobileNo": SpouseMobileNumber,
                    "AadharNo": AadharNo,
                    "PanNo": PanNo,
                    "CompanyId": CompanyID
                }

                filedata.append('AllDataArray', JSON.stringify(AllDataArray));

                 $.ajax({
                url: '@Url.Action("AddRequestCustomer", "Customer")',
                     type: "POST",
                     contentType: false,
                     processData: false,
                     data: filedata,

                success: function (result) {
                    debugger

                    var message = JSON.parse(result)[0].ReturnMessage;
                    alert(message);
                    if (message == "Customer saved succussfully") {

                      window.location.href='@Url.Action("CustomerView", "Customer")'

                    } else {


                    }




                }



           })



            }

        }
    </script>*@

